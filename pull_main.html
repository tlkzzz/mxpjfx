<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="css/mui.min.css">
			<style>
				.mui-slider-indicator {
				bottom: 0;
			}
			.mui-slider {
				background-color: #f2f2f2;
			}
		</style>
	</head>

	<body>
		<!--下拉刷新容器-->
		<div id="pullrefresh" class="mui-content mui-scroll-wrapper">
			<div class="mui-scroll" id="ispull">
				 <div id="Gallery" class="mui-slider">
			  	<div class="mui-slider-group" >
				<div class="mui-slider-item" id="isone"></div>
				   <div class="mui-slider-item" id="istow"></div>	
				    <div class="mui-slider-item" id="isthree"></div>
				</div>
				<div class="mui-slider-indicator" id="isfour">
				
			</div>
			</div>
			</div>
		</div> 
		<script src="js/mui.min.js"></script>
		<script>
			//启用双击监听
		mui.init({
	  	pullRefresh : {
	    container:"#pullrefresh",//下拉刷新容器标识，querySelector能定位的css选择器均可，比如：id、.class等
	    down : {
	      height:50,//可选,默认50.触发下拉刷新拖动距离,
      auto: true,//可选,默认false.自动下拉刷新一次
      contentdown : "下拉可以刷新",//可选，在下拉可刷新状态时，下拉刷新控件上显示的标题内容
      contentover : "释放立即刷新",//可选，在释放可刷新状态时，下拉刷新控件上显示的标题内容
      contentrefresh : "正在刷新...",//可选，正在刷新状态时，下拉刷新控件上显示的标题内容
      callback :pulldownRefresh //必选，刷新函数，根据具体业务来编写，比如通过ajax从服务器获取新数据；
    }
  }
});
	var count =0;
	if (mui.os.plus) {
				mui.plusReady(function() {
					setTimeout(function() {
						mui('#pullrefresh').pullRefresh().pullupLoading();
					}, 1000);
				});
			} else {
				mui.plusReady(function() {
					
			});	
}





	function pulldownRefresh() {
					count++
//			var slider = document.getElementById('Gallery');
//			var group = slider.querySelector('.mui-slider-group');
//			var items = mui('.mui-slider-item', group);
//			//克隆第一个节点
//			var first = items[0].cloneNode(true);
//			first.classList.add('mui-slider-item-duplicate');
//			//克隆最后一个节点
//			var last = items[items.length - 1].cloneNode(true);
//			last.classList.add('mui-slider-item-duplicate');
//			//处理是否循环逻辑，若支持循环，需支持两点：
//			//1、在.mui-slider-group节点上增加.mui-slider-loop类
//			//2、重复增加2个循环节点，图片顺序变为：N、1、2...N、1
//			var sliderApi = mui(slider).slider();
//						group.classList.add('mui-slider-loop');
//						group.insertBefore(last, group.firstChild);
//						group.appendChild(first);
//						sliderApi.refresh();
//						sliderApi.gotoItem(0);
		
		
				setTimeout(function() {
		
			document.getElementById('isone').innerHTML='<ul  id="ispull" class="mui-table-view mui-grid-view mui-grid-9">'+
			'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-home"></span>'+
									'<div class="mui-media-body">第一</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-email"><span class="mui-badge">'+count+'</span></span>'+
									'<div class="mui-media-body">订单申请</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-chatbubble"></span>'+
									'<div class="mui-media-body">我的订单</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-location"></span>'+
									'<div class="mui-media-body">location</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-search"></span>'+
									'<div class="mui-media-body">Search</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-phone"></span>'+
									'<div class="mui-media-body">Phone</div>'+
								'</a>'+
						'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-gear"></span>'+
									'<div class="mui-media-body">Setting</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-info"></span>'+
									'<div class="mui-media-body">about</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-more"></span>'+
									'<div class="mui-media-body">more</div>'+
								'</a>'+
							'</li>'+
						'</ul>';
						
				document.getElementById('istow').innerHTML='<ul class="mui-table-view mui-grid-view mui-grid-9">'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-home"></span>'+
									'<div class="mui-media-body">第二</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-email"><span class="mui-badge">'+count+'</span></span>'+
									'<div class="mui-media-body">Email</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-chatbubble"></span>'+
									'<div class="mui-media-body">Chat</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-location"></span>'+
									'<div class="mui-media-body">location</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-search"></span>'+
									'<div class="mui-media-body">Search</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-phone"></span>'+
									'<div class="mui-media-body">Phone</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-gear"></span>'+
									'<div class="mui-media-body">Setting</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-info"></span>'+
									'<div class="mui-media-body">about</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-more"></span>'+
									'<div class="mui-media-body">more</div>'+
								'</a>'+
							'</li>'+
						'</ul>';		
				document.getElementById('isthree').innerHTML='<ul class="mui-table-view mui-grid-view mui-grid-9">'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-home"></span>'+
									'<div class="mui-media-body">第三</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-email"><span class="mui-badge">5</span></span>'+
									'<div class="mui-media-body">Email</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-chatbubble"></span>'+
									'<div class="mui-media-body">Chat</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-location"></span>'+
									'<div class="mui-media-body">location</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-search"></span>'+
									'<div class="mui-media-body">Search</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-phone"></span>'+
									'<div class="mui-media-body">Phone</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-gear"></span>'+
									'<div class="mui-media-body">Setting</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-info"></span>'+
									'<div class="mui-media-body">about</div>'+
								'</a>'+
							'</li>'+
							'<li class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">'+
								'<a href="#">'+
									'<span class="mui-icon mui-icon-more"></span>'+
									'<div class="mui-media-body">more</div>'+
								'</a>'+
								'</li>'+
								'</ul>';		
						
	document.getElementById('isfour').innerHTML='<div class="mui-indicator mui-active"></div>'+
					'<div class="mui-indicator"></div>'+
					'<div class="mui-indicator"></div>';
					mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); //refresh completed
					
				},2500);
			}
  	
		</script>
	</body>

</html>