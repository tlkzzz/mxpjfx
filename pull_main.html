<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="css/mui.min.css">
			<link rel="stylesheet" type="text/css" href="css/dadada.css">
			<style>
				.mui-slider-indicator {
				bottom: 0;
			}
			.mui-slider {
				background-color: #f2f2f2;
			}
		</style>
	</head>

	<body>
		<!--下拉刷新容器-->
		<div class="box">
		
		<div class="yilan">
			<ul>
				<li class="box1" id="rkGoods">
					<span><img src="images/ruku.png"></span>
					<div class="text">入库</div>
				</li>
				<li class="box2" id="cxxsck_add">
					<span><img src="images/chuku.png"></span>
					<div class="text">销售出库</div>
				</li>
				<li class="box3" id="mydd_main">
					<span><img src="images/wodedingdan.png"></span>
					<div class="text">我的订单</div>
				</li>
				<li class="box4" id="jddk">
					<span><img src="images/jindian.png"></span>
					<div class="text">进离店打卡</div>
				</li>
				<li class="box5" id="lddk">
					<span><img src="images/lidian.png"></span>
					<div class="text">离店</div>
				</li>
				<li class="box6" id="setting">
					<span><img src="images/shezhi.png"></span>
					<div class="text">设置</div>
				</li>
			</ul>
			<div class="clearfix"></div>
		</div>
		<div class="fenge"></div>
		<div class="yilan">
			<ul>
				<li class="box1" id="ykGoods">
					<span><img src="images/yiku.png"></span>
					<div class="text">商品移库</div>
				</li>
				<li class="box2" id="fukuan">
					<span><img src="images/fukuan.png"></span>
					<div class="text">客户付款</div>
				</li>
				<li class="box3" id="shoukuan">
					<span><img src="images/shoukuan.png"></span>
					<div class="text">供应商收款</div>
				</li>
				<li class="box4" id="dingH">
					<span><img src="images/dinghuo.png"></span>
					<div class="text">订货</div>
				</li>
				<li class="box1" id="store">
					<span><img src="images/kehutianjia.png"></span>
					<div class="text">客户添加</div>
				</li>
				<!--<li class="box1" id="ddtt">
					<span><img src="images/kehutianjia.png"></span>
					<div class="text">地图</div>
				</li>-->
			</ul>
			<div class="clearfix"></div>
		</div>
		<div class="fenge2"></div>
		<div class="yilan">
			<ul>
				<li class="box1" id="rkJl">
					<span><img src="images/rukujilu.png"></span>
					<div class="text xia">入库记录</div>
				</li>
				<li class="box2" id="ykjl">
					<span><img src="images/yikujilu.png"></span>
					<div class="text xia">移库记录</div>
				</li>
				<li class="box3 xia" id="dingHlist">
					<span><img src="images/dinghuojilu.png"></span>
					<div class="text">订货记录</div>
				</li>
				<li class="box3 xia" id="storeList">
					<span><img src="images/kehuliebiao.png"></span>
					<div class="text">客户列表</div>
				</li>
			</ul>
			<div class="clearfix"></div>
		</div>
	</div>
		<script src="js/mui.min.js"></script>
		<script src="js/config.js"></script>
		<!--<script src="js/vue.js"></script>-->
		<script>
			//启用双击监听
		mui.init({
	  	pullRefresh : {
	    container:"#pullrefresh",//下拉刷新容器标识，querySelector能定位的css选择器均可，比如：id、.class等
	    down : {
	      height:50,//可选,默认50.触发下拉刷新拖动距离,
      auto: true,//可选,默认false.自动下拉刷新一次
      contentdown : "下拉可以刷新",//可选，在下拉可刷新状态时，下拉刷新控件上显示的标题内容
      contentover : "释放立即刷新",//可选，在释放可刷新状态时，下拉刷新控件上显示的标题内容
      contentrefresh : "正在刷新...",//可选，正在刷新状态时，下拉刷新控件上显示的标题内容
      callback :pulldownRefresh //必选，刷新函数，根据具体业务来编写，比如通过ajax从服务器获取新数据；
    }
}
	  	
	  	
	  	
});
	var count =0;
//	var app = new Vue({
//						  el: '#messger',
//						  data: {
//						    sp: null
//						  }
//						})	
	mui.ready(function() {
					if (mui.os.plus) {
//					setTimeout(function() {
//					
//						mui('#pullrefresh').pullRefresh().pullupLoading();
//					}, 1000);
			}
//					document.getElementById('ddtt').addEventListener('tap', function(event) {	
//				
//				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
//					console.log(data.islogin);
//						if(data.islogin==undefined){
//							mui.openWindow({
//							id: 'ck/ddtt',
//							url: 'ck/ddtt.html',
//					})
//				}else{
//					mui.toast("请登录账户");
//					mui.openWindow({
//							id: 'login',
//							url: 'login.html',
//					});
//				}
//					});
//				})
					
					
				document.getElementById('cxxsck_add').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
							mui.openWindow({
							id: 'ck/cxxsck_add',
							url: 'ck/cxxsck_add.html',
					})
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('rkGoods').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
							mui.openWindow({
							id: 'ck/rkGoods',
							url: 'ck/rkGoods.html',
					})
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('rkJl').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
						mui.openWindow({
							id: 'ck/rkjlMain',
							url: 'ck/rkjlMain.html',
					})	
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('store').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
						mui.openWindow({
							id: 'ck/khAdd',
							url: 'ck/khAdd.html',
					})	
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('storeList').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
							mui.openWindow({
							id: 'ck/khList',
							url: 'ck/khList.html',
					})
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('ykGoods').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
						mui.openWindow({
							id: 'ck/ykGoods',
							url: 'ck/ykGoods.html',
					})	
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('ykjl').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
						mui.openWindow({
							id: 'ck/ykjlMain',
							url: 'ck/ykjlMain.html',
					})	
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('fukuan').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
						mui.openWindow({
							id: 'ck/fukuan',
							url: 'ck/fukuan.html',
					})	
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('dingH').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
						mui.openWindow({
							id: 'ck/dingGoods',
							url: 'ck/dingGoods.html',
					})	
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('dingHlist').addEventListener('tap', function(event) {	
					mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
				mui.openWindow({
							id: 'ck/dHList',
							url: 'ck/dHList.html',
				});
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				
				document.getElementById('jddk').addEventListener('tap', function(event) {	
					mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
//							mui.get(XPJFX_URL+'m/mJdlddk/jddk',function(data){
//								mui.toast("打卡成功");
//							});
							mui.openWindow({
								id: 'ck/jdFrom',
								url: 'ck/jdFrom.html',
							});
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('lddk').addEventListener('tap', function(event) {	
					mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
//							mui.get(XPJFX_URL+'m/mJdlddk/lddk',function(data){
//								mui.toast("打卡成功");
//							});
							mui.openWindow({
								id: 'ck/dkjlMain',
								url: 'ck/dkjlMain.html',
							});
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('shoukuan').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
							mui.openWindow({
							id: 'ck/shoukuan',
							url: 'ck/shoukuan.html',
					})
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})
				document.getElementById('mydd_main').addEventListener('tap', function(event) {	
				
				mui.get(XPJFX_URL+'m/mLogin/list',function(data){
					console.log(data.islogin);
						if(data.islogin==undefined){
							mui.openWindow({
							id: 'ck/mydd_main',
							url: 'ck/mydd_main.html',
					})
				}else{
					mui.toast("请登录账户");
					mui.openWindow({
							id: 'login',
							url: 'login.html',
					});
				}
					});
				})	
				document.getElementById('setting').addEventListener('tap', function(event) {	
						mui.openWindow({
							id: 'settings',
							url: 'setting.html',
							show: {
								aniShow: 'pop-in'
							},
							styles: {
								popGesture: 'hide'
							},
							waiting: {
								autoShow: false
							}
						});
				})		
					
			});	
			
	//销售新增		
//	function openview(a){
//		
//		mui.openWindow({
//							id: a,
//							url: 'ck/'+a+'.html',
//		})
//	}
	
	
	
	
	
	function pulldownRefresh() {
		count++
				setTimeout(function() {
//						app.sp='<span class="mui-badge">'+count+'</span>';
					mui('#pullrefresh').pullRefresh().endPulldownToRefresh(); //refresh completed
				},2500);
			}
  	
  	function userRole(){
		document.getElementById('rkGoods').style.display="none";
		document.getElementById('cxxsck_add').style.display="none";
		document.getElementById('mydd_main').style.display="none";
		document.getElementById('jddk').style.display="none";
		document.getElementById('lddk').style.display="none";
		document.getElementById('ykGoods').style.display="none";
		document.getElementById('fukuan').style.display="none";
		document.getElementById('shoukuan').style.display="none";
		document.getElementById('dingH').style.display="none";
		document.getElementById('store').style.display="none";
		document.getElementById('rkJl').style.display="none";
		document.getElementById('ykjl').style.display="none";
		document.getElementById('dingHlist').style.display="none";
		document.getElementById('storeList').style.display="none";
		
//		document.getElementById('rkGoods').style.display="block";
  		mui.get(XPJFX_URL+'sys/role/userRole',function(data){
//			alert("data.menu.id");

			for(var i = 0;i < data.length; i++){
				console.log(data[i].menu.id);
				if(data[i].menu.id=='15bcc491f40346618e823fcd02bcaa72'){
					document.getElementById('rkGoods').style.display="block";
				}
				if(data[i].menu.id=='ed83bcc41c094a8e89dc4d566f92ed50'){
					document.getElementById('cxxsck_add').style.display="block";
				}
				if(data[i].menu.id=='3c5dbdb849b149d98a852b0f1ddaaf49'){
					document.getElementById('mydd_main').style.display="block";
				}
				if(data[i].menu.id=='27f15cfce4684dd2a9eb9fd16f9392a3'){
					document.getElementById('jddk').style.display="block";
				}
				if(data[i].menu.id=='1c2f0a72837542bfb5e454cb9ac0fb50'){
					document.getElementById('lddk').style.display="block";
				}
				if(data[i].menu.id=='26b686d40cd14bf29fc7f9fb4833d8a8'){
					document.getElementById('ykGoods').style.display="block";
				}
				if(data[i].menu.id=='3eff7c8dcb81482fb7138f9940d65772'){
					document.getElementById('fukuan').style.display="block";
				}
				if(data[i].menu.id=='4bf592f34115461785087ce545319353'){
					document.getElementById('shoukuan').style.display="block";
				}
				if(data[i].menu.id=='1f3a21492bba4b06ae91bdd64ffc180b'){
					document.getElementById('dingH').style.display="block";
				}
				if(data[i].menu.id=='1a0bc5b731784e3783b0d69c6176bc6a'){
					document.getElementById('store').style.display="block";
				}
				if(data[i].menu.id=='56a8775904f94cf0968a2747176b0144'){
					document.getElementById('rkJl').style.display="block";
				}
				if(data[i].menu.id=='19175bc8f2404a338025fb84aba2b179'){
					document.getElementById('ykjl').style.display="block";
				}
				if(data[i].menu.id=='db9b157d273c41bf9effbdf32b4ec328'){
					document.getElementById('dingHlist').style.display="block";
				}
				if(data[i].menu.id=='86988b334c2543f898b9bab7efe50ce5'){
					document.getElementById('storeList').style.display="block";
				}
			}
});
  	}
  	
  	window.onload=userRole;
		</script>
	</body>

</html>