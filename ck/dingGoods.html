<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>订货</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="../css/app.css" />
		<link rel="stylesheet" type="text/css" href="../css/mui.picker.min.css" />
		
		<style>
			#barcode {
	background:#0F0;
	height:480px;
	width:360px;
}	
#topPopover {
				position: fixed;
				top: 16px;
				right: 6px;
			}
			#topPopover .mui-popover-arrow {
				left: auto;
				right: 6px;
			}
			p {
				text-indent: 22px;
			}
			span.mui-icon {
				font-size: 14px;
				color: #007aff;
				margin-left: -15px;
				padding-right: 10px;
			}
			.mui-popover {
				height: 300px;
			}
		</style>
	</head>

	<body>
			<header class="mui-bar mui-bar-nav">
			<a  class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title">订货</h1>
		</header>
		
				<div class="mui-content">
			
		<div class="mui-card">
				<div class="mui-card-header mui-card-media">
					<img src="../images/logo.png" />
					<div class="mui-media-body">
						<p style="color: #333;">新平江超市</p> 
						<p>长沙市雨花区高桥水暖城114号	</p>
					</div>
				</div>
				<div class="mui-card-footer">
					<a class="mui-icon mui-icon-paperplane"></a>
					<a  id="saoma" onclick="clicked('barcode_scan2.html',true,true)" class="mui-icon mui-icon-camera"></a>
					<a id="addcard" class="mui-icon mui-icon-plus"></a>
				</div>
		</div>	
			<!--<div id="barcode"></div>-->
	
			<div class="carddiv"></div>
			
		</div>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		<script src="../js/mui.min.js"></script>
		<script src="../js/mui.picker.min.js"></script>
		<script type="text/javascript" src="../js/common.js"></script>
		<script type="text/javascript">
			
			mui.init()
			var bc;
			var i=0
			if (mui.os.plus) {
				mui.plusReady(function(){
				var add = document.getElementById('addcard');
				add.addEventListener('tap', function(event) {
					i++;
					addv();
				})
			})
			}else{
			mui.ready(function(){
				var add = document.getElementById('addcard');
				add.addEventListener('tap', function(event) {
					i++;
					addv();
				})
			})	
				
			}
			
				//扫描后回调
			function scaned(r){
				mui.toast(r);
				addv ();
}
			
			function  addv (){
							var table = document.body.querySelector('.carddiv');
//					table.id="taid";
					var dc=	document.createElement('div');
					dc.className="mui-card";
					dc.innerHTML='<div class="mui-card-content">'+
	'<button id="demo4" data-options="{"type":"date"}" class="btn mui-btn mui-btn-block">选择日期 ...</button>'+
	'<div id="result" class="ui-alert"></div>'+
					'<div class="mui-card-content-inner">'+
						'<p><span>商品:</span><span style="color: #333;">龙一罐装混合果蔬脆</span></p>'+
						'<p><span>规格:</span><span style="color: #333;">1*10*100</span></p>'+
						'<p><span>单价:</span><span style="color: #333;">100/件</span></p>'+
						'<p>'+
						'<div class="mui-numbox">'+
						 ' <button class="mui-btn mui-numbox-btn-minus" type="button">-</button>'+
						 ' <input class="mui-numbox-input" type="number" />'+
						 ' <button class="mui-btn mui-numbox-btn-plus" type="button">+</button>'+
						'</div>'+
					'	</p>'+
						'	<p>'+
					'	<div class="mui-numbox">'+
						'  <button class="mui-btn mui-numbox-btn-minus" type="button">-</button>'+
						'  <input class="mui-numbox-input" type="number" />'+
						 ' <button class="mui-btn mui-numbox-btn-plus" type="button">+</button>'+
					'	</div>'+
					'<div class="mui-input-row"><label style="color:#333;">合计:</label><input type="text" value="2000" style="width:100px;margin-left:70px;"/></div>'+
					'	</p>'+
				'</div>'+
				'</div>'+
				 '<div class="mui-card-footer">'+
					'<a class="mui-card-link">保存'+i+'</a>'+
					'<a class="mui-card-link">删除</a>'+
				  '</div>';
					table.appendChild(dc);
			}
			
			
			(function($) {
				$.init();
				var result = $('#result')[0];
				var btns = $('.btn');
				btns.each(function(i, btn) {
					btn.addEventListener('tap', function() {
						var optionsJson = this.getAttribute('data-options') || '{}';
						var options = JSON.parse(optionsJson);
						var id = this.getAttribute('id');
						/*
						 * 首次显示时实例化组件
						 * 示例为了简洁，将 options 放在了按钮的 dom 上
						 * 也可以直接通过代码声明 optinos 用于实例化 DtPicker
						 */
						var picker = new $.DtPicker(options);
						picker.show(function(rs) {
							/*
							 * rs.value 拼合后的 value
							 * rs.text 拼合后的 text
							 * rs.y 年，可以通过 rs.y.vaue 和 rs.y.text 获取值和文本
							 * rs.m 月，用法同年
							 * rs.d 日，用法同年
							 * rs.h 时，用法同年
							 * rs.i 分（minutes 的第二个字母），用法同年
							 */
							result.innerText = '选择结果: ' + rs.text;
							/* 
							 * 返回 false 可以阻止选择框的关闭
							 * return false;
							 */
							/*
							 * 释放组件资源，释放后将将不能再操作组件
							 * 通常情况下，不需要示放组件，new DtPicker(options) 后，可以一直使用。
							 * 当前示例，因为内容较多，如不进行资原释放，在某些设备上会较慢。
							 * 所以每次用完便立即调用 dispose 进行释放，下次用时再创建新实例。
							 */
							picker.dispose();
						});
					}, false);
				});
			})(mui);
			
			
		</script>
	</body>

</html>